# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

1. Product
   Класс, представляющий продукт.

Свойства:

id: Уникальный идентификатор продукта.
description: Описание продукта.
image: Изображение продукта.
title: Название продукта.
category: Категория продукта (софт-скил, хард-скил, другое, дополнительное, кнопка).
price: Цена продукта (может быть null, если продукт бесплатный).
Методы:

Конструктор для создания экземпляра продукта. 2. User
Класс, представляющий пользователя.

Свойства:

email: Электронная почта пользователя.
phone: Номер телефона пользователя.
address: Адрес доставки пользователя.
payment: Способ оплаты (наличный или безналичный).
Методы:

Конструктор для создания экземпляра пользователя. 3. Cart
Класс, представляющий корзину.

Свойства:

products: Список продуктов в корзине.
Методы:

addProduct(product: IProduct): Метод для добавления продукта в корзину.
removeProduct(productId: string): Метод для удаления продукта из корзины по идентификатору.
getTotalPrice(): Метод для получения общей стоимости всех продуктов в корзине. 4. Order
Класс, представляющий заказ.

Свойства:

user: Пользователь, сделавший заказ.
products: Список продуктов в заказе.
totalPrice: Общая стоимость заказа.
Методы:

Конструктор для создания экземпляра заказа.
calculateTotal(): Метод для расчета общей стоимости заказа. 5. Api
Класс для взаимодействия с API.

Свойства:

baseUrl: Базовый URL для API.
options: Настройки запроса (по умолчанию включают заголовок 'Content-Type': 'application/json').
Методы:

get(uri: string): Метод для отправки GET-запроса.
post(uri: string, data: object, method: ApiPostMethods = 'POST'): Метод для отправки POST-запроса с возможностью указания метода (POST, PUT, DELETE).
handleResponse(response: Response): Метод для обработки ответа от сервера. 6. EventEmitter
Класс для управления событиями.

Свойства:

\_events: Карта событий и подписчиков.
Методы:

on(eventName: EventName, callback: Function): Метод для установки обработчика на событие.
off(eventName: EventName, callback: Function): Метод для снятия обработчика с события.
emit(eventName: string, data?: object): Метод для инициирования события с данными.
onAll(callback: Function): Метод для прослушивания всех событий.
offAll(): Метод для сброса всех обработчиков.
trigger(eventName: string, context?: object): Метод для создания коллбека, генерирующего событие при вызове.
Компоненты интерфейса

1. ProductCard
   Компонент для отображения карточки продукта.

Свойства:

product: Экземпляр продукта.
inCart: Флаг, показывающий, находится ли продукт в корзине.
Методы:

render(): Метод для рендеринга карточки продукта. Может отображаться на главной странице, в корзине или в модальном окне. 2. ProductModal
Компонент для отображения подробной информации о продукте в модальном окне.

Свойства:

product: Экземпляр продукта.
Методы:

open(): Метод для открытия модального окна.
close(): Метод для закрытия модального окна.
render(): Метод для рендеринга содержимого модального окна. 3. CartView
Компонент для отображения содержимого корзины.

Свойства:

cart: Экземпляр корзины.
Методы:

render(): Метод для рендеринга списка продуктов в корзине и общей стоимости. 4. MainPage
Компонент для отображения главной страницы с продуктами.

Свойства:

products: Список всех доступных продуктов.
Методы:

render(): Метод для рендеринга списка продуктов на главной странице.
Взаимодействие сущностей
Product: Представляет продукт и содержит основную информацию о нем. Используется в корзине, заказах и отображается в интерфейсе пользователя.

User: Представляет пользователя системы, содержит его контактные данные и предпочтительный способ оплаты. Используется при создании заказа.

Cart: Представляет корзину пользователя. Содержит список добавленных продуктов и методы для управления ими. Предоставляет метод для расчета общей стоимости продуктов в корзине.

Order: Представляет заказ, содержащий информацию о пользователе и продуктах. Содержит метод для расчета общей стоимости заказа.

Api: Обеспечивает взаимодействие с удаленным сервером через API. Содержит методы для отправки запросов и обработки ответов.

EventEmitter: Управляет событиями в системе. Позволяет устанавливать и снимать обработчики событий, а также инициировать события с данными.

ProductCard: Компонент, отвечающий за отображение продукта. Может рендериться на главной странице, в корзине и в модальном окне.

ProductModal: Компонент, отображающий подробную информацию о продукте в модальном окне. Открывается при нажатии на продукт на главной странице.

CartView: Компонент, отображающий содержимое корзины и общую стоимость продуктов. Обновляется при добавлении или удалении продуктов из корзины.

MainPage: Компонент, отвечающий за отображение списка всех доступных продуктов на главной странице.

Пример сценария использования
Пользователь заходит на главную страницу (MainPage), где отображаются все продукты в виде карточек (ProductCard).
Пользователь кликает на карточку продукта, открывая модальное окно (ProductModal) с подробной информацией о продукте.
Пользователь добавляет продукт в корзину через интерфейс модального окна или карточки продукта.
Продукт добавляется в корзину (Cart), и интерфейс корзины (CartView) обновляется.
Пользователь переходит к оформлению заказа, где вводит свои данные и выбирает способ оплаты (User).
Создается заказ (Order) с информацией о пользователе и продуктах из корзины.
Заказ отправляется на сервер с использованием класса Api.
В процессе взаимодействия используются события, управляемые классом EventEmitter, для обновления интерфейса и уведомления пользователя о различных действиях (например, успешное добавление продукта в корзину, успешное оформление заказа и т.д.).
